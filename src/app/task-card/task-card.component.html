<mat-card>
  <mat-checkbox (change)="done()" [checked]="made">
    <div *ngIf="made">Выполнено</div>
    <div *ngIf="!made">В процессе</div>
  </mat-checkbox>
  <form (ngSubmit)="updateTask(task)" [formGroup]="form">
    <div class="text-wrapper">
      <mat-card-title [ngClass]="{strike: made}">{{task.note}}</mat-card-title>
      <div *ngIf="changeForm">
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Изменить задачу" value="{{task.note}}" formControlName="title">
        </mat-form-field>
      </div>
      <mat-card-content [ngClass]="{strike: made}">{{task.date | date: "medium"}}</mat-card-content>
      <div *ngIf="changeForm">
        <mat-form-field class="example-full-width">
          <input matInput type="datetime-local" formControlName="date" value="{{task.date | date: 'yyyy-MM-ddTHH:mm'}}">
        </mat-form-field>
      </div>
    </div>
    <button *ngIf="changeForm" mat-raised-button type="submit" class="btn btn-primary btn-block"
      [disabled]="form.invalid">
      Изменить</button>
  </form>
  <div class="buttons-wrapper">
    <button mat-mini-fab color="warn" (click)="removeTask(task)"><i class="material-icons">
        delete_sweep
      </i></button>
    <button mat-mini-fab color="primary" (click)="openUpdateTaskForm(this.changeForm)" [ngClass]="{invisible: made}">
      <i class="material-icons" *ngIf="!changeForm">
        keyboard_arrow_down
      </i>
      <i class="material-icons" *ngIf="changeForm">
        keyboard_arrow_up
      </i>
    </button>
  </div>

</mat-card>
